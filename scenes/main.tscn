[gd_scene load_steps=15 format=3 uid="uid://cvxx3tmyt42jf"]

[ext_resource type="Script" path="res://scenes/Camera.gd" id="1_eanxq"]
[ext_resource type="Script" path="res://scenes/main.gd" id="1_kbus1"]
[ext_resource type="Texture2D" uid="uid://bsl04j1x4hd6n" path="res://art/fond_art/SVG-fond.svg" id="2_t3b08"]
[ext_resource type="Texture2D" uid="uid://7le8m08buqw6" path="res://art/cartes_art/Analyse.svg" id="3_gcepj"]
[ext_resource type="Texture2D" uid="uid://q6lw7x4cvukb" path="res://art/cartes_art/Analyse-rayon.svg" id="4_pfwcl"]
[ext_resource type="Texture2D" uid="uid://ykvulavcf2yu" path="res://art/cartes_art/Radiotherapie.svg" id="5_et70c"]
[ext_resource type="Texture2D" uid="uid://4vwi1pxcoomv" path="res://art/Jeu/SVG-curseur-viseur/Curseur-viseur.png" id="5_he8ly"]
[ext_resource type="Texture2D" uid="uid://bhv8oseogpsa2" path="res://art/cartes_art/Radiotherapie-rayon.svg" id="6_h6xtr"]
[ext_resource type="Texture2D" uid="uid://co00hni54of42" path="res://art/cartes_art/Chimiotherapie.svg" id="7_n40il"]
[ext_resource type="Texture2D" uid="uid://deimy7gll2p3y" path="res://art/cartes_art/Chimiotherapie-rayon.svg" id="8_px430"]
[ext_resource type="Texture2D" uid="uid://bfalxacs81lqh" path="res://art/Jeu/SVG-curseur-viseur/Cercle.svg" id="10_sowf5"]
[ext_resource type="Script" path="res://scenes/TargetRef.gd" id="12_ad4bp"]
[ext_resource type="PackedScene" path="res://components/health_bar.tscn" id="13_0kdhp"]
[ext_resource type="PackedScene" path="res://components/card.tscn" id="13_7c10m"]

[node name="Main" type="Node"]
script = ExtResource("1_kbus1")

[node name="TextureRect" type="TextureRect" parent="."]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -960.0
offset_top = -540.0
offset_right = 960.0
offset_bottom = 540.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("2_t3b08")
stretch_mode = 1

[node name="Camera" type="Camera2D" parent="."]
z_index = 5
position = Vector2(550, 350)
zoom = Vector2(3, 3)
drag_left_margin = 0.0
drag_top_margin = 0.0
drag_right_margin = 0.0
drag_bottom_margin = 0.0
script = ExtResource("1_eanxq")

[node name="Control" type="Control" parent="Camera"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
metadata/_edit_lock_ = true

[node name="BigCircle" type="Sprite2D" parent="Camera"]
scale = Vector2(0.2, 0.2)
texture = ExtResource("10_sowf5")

[node name="SmallCenter" type="Sprite2D" parent="Camera"]
scale = Vector2(0.05, 0.05)
texture = ExtResource("5_he8ly")

[node name="HealthyCellDeathTimer" type="Timer" parent="Camera"]

[node name="CancelCellSpawnTimer" type="Timer" parent="Camera"]

[node name="Card1" parent="Camera" instance=ExtResource("13_7c10m")]
offset_left = -28.0
offset_top = 79.0
offset_right = 125.0
offset_bottom = 320.0
scale = Vector2(0.12, 0.12)
texture_normal = ExtResource("3_gcepj")
texture_hover = ExtResource("4_pfwcl")

[node name="Card2" parent="Camera" instance=ExtResource("13_7c10m")]
offset_left = -9.0
offset_top = 79.0
offset_right = 144.0
offset_bottom = 320.0
scale = Vector2(0.12, 0.12)
texture_normal = ExtResource("5_et70c")
texture_hover = ExtResource("6_h6xtr")

[node name="Card3" parent="Camera" instance=ExtResource("13_7c10m")]
offset_left = 10.0
offset_top = 79.0
offset_right = 163.0
offset_bottom = 320.0
scale = Vector2(0.12, 0.12)
texture_normal = ExtResource("7_n40il")
texture_hover = ExtResource("8_px430")

[node name="TargetRef" type="Area2D" parent="Camera"]
script = ExtResource("12_ad4bp")

[node name="HealthBar" parent="." instance=ExtResource("13_0kdhp")]

[node name="HealthyCellDeathTimer" type="Timer" parent="."]
wait_time = 0.05
autostart = true

[node name="CancerCellSpawnTimer" type="Timer" parent="."]
autostart = true

[connection signal="timeout" from="Camera/HealthyCellDeathTimer" to="." method="_on_healthy_cell_death_timer_timeout"]
[connection signal="timeout" from="Camera/CancelCellSpawnTimer" to="." method="_on_cancel_cell_spawn_timer_timeout"]
[connection signal="use_card" from="Camera/Card1" to="." method="_on_card_1_use_card"]
[connection signal="use_card" from="Camera/Card2" to="." method="_on_card_2_use_card"]
[connection signal="use_card" from="Camera/Card3" to="." method="_on_card_3_use_card"]
[connection signal="timeout" from="HealthyCellDeathTimer" to="." method="_on_healthy_cell_death_timer_timeout"]
[connection signal="timeout" from="CancerCellSpawnTimer" to="." method="_on_cancer_cell_spawn_timer_timeout"]
